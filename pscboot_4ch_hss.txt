setenv bitname psc-4ch-hss.bit
setenv elfname psc-4ch-hss.elf

setenv bitsize 0x600000
setenv elfsize 0x200000

setenv membitaddr 0x31000000
setenv qspibitaddr 0x200000

setexpr memelfaddr ${membitaddr} + ${bitsize}
setexpr qspielfaddr ${qspibitaddr} + ${bitsize}

setenv autostart n
setenv autoload n

echo "--- Loading firmware from Network ---"
dhcp
echo "Loading bitstream from TFTP..."
tftpboot ${membitaddr} psc/${bitname}
echo "Loading bitstream into FPGA...";
fpga loadb 0 ${membitaddr} ${filesize};
echo "Loading ELF from TFTP...";
tftpboot ${membitaddr} psc/${elfname};
setenv autostart y
bootelf ${membitaddr}